 快应用：

jia.mei@megatronix.co

Megayilai001,



dbcDBC@919384

* repo 回滚到当前服务器最新版本：repo forall -c "git clean -df" && repo forall -c "git checkout ." && repo sync -j8



生成KeyStore文件：keytool -genkey -alias android.keystore -keyalg RSA -validity 10000 -keystore android.keystore







    //ubuntu
    //apt卸载软件命令
    apt list --installed
    apt search quickappide
    sudo apt-get --purge remove quickappide
    sudo dpkg -i quickapp-ide-3.3.1.deb

/opt/quickAppIDE/bin

```shell
Git 常用命令

//修改上次log

git commit --amend



//提交代码格式

![img](https://lh5.googleusercontent.com/ZDdEA1TdkBCSXkTJjLX2QsAgQw6htLTgiYjmtLCrDEPQeaP6KcULCWnxEELLNr63wV7TkAq2tRIOSv61sFGaKjz011TLPdRBto4v4ByurHnoaf6S-4DPk3eOsJ6nVU72zcYhRsir)

推到主线

git push megaOS HEAD:refs/for/master



//丢弃本地更改强制回退到服务器最新版本

git fetch --all && git reset --hard origin/master && git pull

//本地分支关联远程分支

git branch --set-upstream-to=origin/dev

git checkout -b release/sequoia_hqx.1.2.1_20220417 mega/release/sequoia_hqx.1.2.1_20220417
//拉取服务器最新代码和本地合并，并合并冲突
git pull mega master --rebase

git log -p filename

如果存在多次提交要CP 应该保证CP顺序 否则出现错误
push时出现closed  
remote: The issue-ids
remote:     * SEQ-2721
remote:     * SEQ-2666
remote:     * SEQ-2725
remote: are referenced in the commit message of
remote: 4ab925dcfeeec14e06056424b6b216736343c8f3,
remote: but do not exist in its-jira Issue-Tracker
To ssh://git.i-tetris.com:29418/apps/gladius/android/chery/t1cfl/SequoiaHvac
 ! [remote rejected] HEAD -> refs/for/release/sequoia_hqx.1.2.1_20220417 (change https://git.i-tetris.com/c/apps/gladius/android/chery/t1cfl/SequoiaHvac/+/81099 closed)
是因为abandon了，把changeId 删除掉 重新提交生成即可。

git log 显示中文配置：
git config --global i18n.commitencoding utf-8  --注释：该命令表示提交命令的时候使用utf-8编码集提交

git config --global i18n.logoutputencoding utf-8 --注释：该命令表示日志输出时使用utf-8编码集显示

export LESSCHARSET=utf-8  --注释：设置LESS字符集为utf-8
```





``` shell
杀进程
ps -ef | grep firefox
kill -s 9 1827
ps -e | grep java
kill $pid
```





模拟发信号测试步骤：

https://docs.google.com/document/d/1BGwNTZ_iTRTwQm6JhCz_iwgeZcVA_dn4-Vvvl7Op3hg/edit#

adb root
adb shell
msg_center_test -t AC/AirClean '{"value":1}'



**先刷机进FastBoot** 

qnx：telnet cdc-qnx		

login: root

reset -f

**方法1）单独刷安卓：**

cd android

cd out/target/product/sequoia

./flash-android.sh

**方法2）刷整机：**

cd  ~/下载/qfi_bin/common/build

python3 fastboot_complete.py --st=ufs --pf=8155_la

或者直接执行fastboot_8155.sh

**方法3）参考刷机文档，在windows下刷整机**

1.选qfi_bin\contents.xml

2.选择prog_firehouse_ddr.elf

3.点DownLoad



```shell
find . -name "*.c"

tar -xzvf xxx.tgz
adb push out/target/product/sequoia/system/system_ext/priv-app/SequoiaSystemUI/SequoiaSystemUI.apk system/system_ext/priv-app/SequoiaSystemUI/

adb push out/target/product/glacier/system/system_ext/priv-app/GlacierSystemUI/GlacierSystemUI.apk system/system_ext/priv-app/GlacierSystemUI/

adb push out/target/product/redwood/system/system_ext/priv-app/RedwoodSystemUI/RedwoodSystemUI.apk system/system_ext/priv-app/RedwoodSystemUI/

adb shell setprop log.tag.MessageProperty V 
//TODO 打开设置
adb shell am start com.android.settings
pm list packages -f | grep mega.car
电源模式相关
megapm_switch_state.sh
adb shell dumpsys car_service get-power-state
adb shell "cmd uimode night no"
adb shell "cmd uimode night yes"
//模拟Home键
adb shell input keyevent  3 
指定模拟器
adb -s emulator-5554 shell
```

http://wh-artifactory.i-tetris.com/artifactory/webapp/#/login



```shell
配置字调试命令：
ECLM：
msg_center_test -t uartrpc_svc/uds/req '~!b:0x030x010x000x0f0x010x0e0x800x2e0x700x1b0x100x000x000x000x000x000x000x00'

msg_center_test -t uartrpc_svc/uds/req '~!b:0x030x010x000x0f0x010x0e0x800x2e0x700x1b0x100x000x000x000x000x000x000x10'
0x100x000x000x000x000x000x000x10

CLM：
msg_center_test -t uartrpc_svc/uds/req '~!b:0x030x010x000x0f0x010x0e0x800x2e0x700x100x400x000x000x00'
msg_center_test -t uartrpc_svc/uds/req '~!b:0x030x010x000x0f0x010x0e0x800x2e0x700x100x000x000x000x40'

msg_center_test -t uartrpc_svc/uds/req '~!b:0x030x010x000x0f0x010x0e0x800x2e0x700x100x000x400x400x00'

//qnx 订阅topic命令
on -T ic_apps_t -u ic_apps mega_ipc_sub -t "uartrpc_svc/veh_ctrl/req" -b 1

```

手势监听：MegaSystemGestures

安卓11：*repo init -u ssh://git-slave-wh.i-tetris.com:29418/qcom/sa/platform/manifest -b dev_hqx.1.2.1 -m gladius.xml --no-repo-verify --repo-url=ssh://git-slave-wh.i-tetris.com:29418/repo --repo-branch=repo-1*



//os 切到0716分支

repo init -u ssh://git-slave-wh.i-tetris.com:29418/qcom/sa/platform/manifest -b release/glacier_hqx.1.2.1_20220716 -m glacier_MEGAOS.xml --no-repo-verify --repo-url=ssh://git-slave-wh.i-tetris.com:29418/repo --repo-branch=repo-1



repo init -u ssh://git-slave-wh.i-tetris.com:29418/qcom/sa/platform/manifest -b release/glacier_hqx.1.2.1_20220902 -m glacier_MEGAOS.xml --no-repo-verify --repo-url=ssh://git-slave-wh.i-tetris.com:29418/repo --repo-branch=repo-1



项目代码：repo init -u ssh://baocheng.dong@git.i-tetris.com:29418/cores/gladius/android/manifest -b master --no-repo-verify --repo-url=ssh://baocheng.dong@git.i-tetris.com:29418/repo --repo-branch=repo-1

 ./gradlew  MegaHvac:assembleDebug

```
遇到Gradle问题  Could not install Gradle distribution from file ... the cached zip file may be corrupted ...
1.检查gradle-wrapper.properties配置
2.distributionUrl=https\://services.gradle.org/distributions/gradle-5.6.4-all.zip
```



```shell
docker ps -a
//启动容器
docker start fc0480a0fa99
进入容器：
方式1.docker attach  fc0480a0fa99
方式2.docker exec -it fc0480a0fa99 /bin/bash

以下命令使用 ubuntu 镜像启动一个容器，参数为以命令行模式进入该容器：
$ docker run -it fc0480a0fa99 /bin/bash

```

```
关闭debug模式  
/system/etc/config/global.xml  看一下这个文件里面的  vehicle_debug_mode 是不是true,把这个问题pull 出来，然后修改一下，再push进去，kill com.mega.car 就行了
打开进程管理器：
gnome-system-monitor
```

```
共性问题：
1.如何避免一个问题在 T1E,T18P上改两遍甚至三遍



1.动画差值器如何在xml中


1.4 520.9

空调最新UEUI SEQ-4890
http://jira.i-tetris.com/browse/SEQ-4890?filter=-1&jql=resolution%20in%20(Unresolved%2C%20Done%2C%20Fixed)%20AND%20assignee%20in%20(currentUser())%20order%20by%20updated%20DESC


实车问题：
待证明：
3.设置的功能和香氛的功能需要验证

待处理：
1.动画需要做懒加载，用户可见才显示动画，避免占用内存过高，引起系统卡顿
2.界面滑到一半会卡主
3.界面滑动卡顿
4.电动空调SeekBar用bp编译和app运行时效果不一样


T18Fix3
T1EPHEV
EOX
T18P
```

```
minicom使用
ls -l /dev/tty*
sudo minicom -D /dev/ttyUSB1
```

rm work-wchat.sh

sudo wget http://10.25.60.248/soft_install/work-wchat.sh && bash work-wchat.sh



EOX文档：https://drive.google.com/drive/folders/1-X13p5Fx6WKd6JVUDLuazppIKtlRCzkQ



https://app.diagrams.net/   google 文档上画图的工具 

repo init -u ssh://baocheng.dong@git.i-tetris.com:29418/cores/gladius/android/manifest -b master -m cherry.xml --no-repo-verify --repo-url=ssh://baocheng.dong@git.i-tetris.com:29418/repo --repo-branch=repo-1

```
1.外循环关闭提示是否采用通用关闭语音提示，因为提示语文档中没有给该场景
2.我有点热，冷这种没有返回识别到的是主驾还是副驾说的
3.可见即可说和语音识别有时会同时触发，自动模式
4.空调双区开关无法识别
白天黑夜模式如何区分图标是否是一样的，一样的话使用一套资源就行，不一样就要用两套。
```

